<!DOCTYPE html>
<html>
	<head>
		<title>jsCommenter Dokumentation</title>
		<meta charset="utf-8" />
		<style type="text/css">
			body {
				font-family:	sans-serif;
			}
			h3 i {
				font-weight:	normal;
			}
		</style>
	</head>
	<body>
		<article>
			<h1>JavaScript Bibliothek</h1>
			<ul>
				<li>
					<h2>Commenter(layer, json_url)</h2>
					<p>Erstellt eine neue Kommentarebene die sich über die gesamte Webseite legt.</p>
					<p>Es werden automatisch folgende Funktionen aufgerufen: <b><i>.loadComments()</i></b></p>
					<p><i>layer</i> ist ein <a href="http://api.jquery.com/category/selectors/">jQuery-kompatibler Selektorstring</a>.</p>
					<p><i>json_url</i> ist ein String der eine URL zu der JSON-Datei enthält die die Kommentare beinhaltet.</p>
					<ul>
						<li>
							<h3>.hide()</h3>
							<p>Versteckt die Kommentare.</p>
						</li>
						<li>
							<h3>.show()</h3>
							<p>Zeigt die Kommentare</p>
						</li>
						<li>
							<h3>.toggle()</h3>
							<p>Zeigt die Kommentare im Fall dass diese ausgeblendet waren, versteckt diese sollten sie eingeblendet sein.</p>
						</li>
						<li>
							<h3>.createDialog()</h3>
							<p>Generiert einen Dialog zur Erstellung eines Kommentars.</p>
							<p><b>Rückgabewert:</b> Ein jQuery Dialog-Objekt.</p>
						</li>
						<li>
							<h3>.addComment(<i>author, content, time, color, [pos_x, pos_y]</i>)</h3>
							<p>Fügt der Kommentarebene ein Kommentar hinzu. Fügt <u>kein</u> Kommentar in die Kommentar-Datei ein.</p>
							<p><i>author</i> und <i>content</i> werden als String angegeben.</p>
							<p>Die Farbe wird als HEX-Farbwert angegeben.</p>
							<p>Die Zeit wird als UNIX-Timestamp angegeben.</p>
							<p>Die Position wird in Pixeln angegeben.</p>
						</li>
						<li>
							<h3>.userAddComment(<i>author, comment, color, [pos_x, pos_y]</i>)</h3>
							<p>Fügt der Datei auf dem Server sowie der Kommentarebene ein Kommentar hinzu.</p>
							<p><i>author</i> und <i>content</i> werden als String angegeben.</p>
							<p>Die Farbe wird als HEX-Farbwert angegeben.</p>
							<p>Die Position wird in Pixeln angegeben.</p>
						</li>
						<li>
							<h3>.loadComments()</h3>
							<p>Ruft alle Kommentare von dem beim Aufruf der Klasse übergebenen Pfad einer JSON-Datei ab und fügt diese Kommentare der Kommentarebene hinzu.</p>
							<p><b>Achtung:</b> Diese Funktion wird beim Aufruf der Klasse mit ausgeführt und muss im Normalfall nicht aufgerufen zu werden.</p>
						</li>
						<li>
							<h3>.redrawLines()</h3>
							<p>Zeichnet die Verbindungslinien zwischen den Kommentaren und den Kommentarpunkten neu. Wird beim Verschieben eines Kommentars von alleine ausgeführt und muss im Normalfall nicht separat ausgeführt werden.</p>
						</li>
						<li>
							<h3>.rgbToHex(<i>[r, g, b]</i>)</h3>
							<p>Konvertiert einen RGB-Farbwert in einen HEX-Farbwert.</p>
							<p><b>Rückgabewert:</b> String mit einem HEX-Farbwert <u>ohne</u> anführendes <i>#</i>.</p>
						</li>
						<li>
							<h3>.hexToRgb(<i>hex</i>)</h3>
							<p>Konvertiert einen HEX-Farbwert in einen RGB-Farbwert.</p>
							<p><b>Rückgabewert:</b> Liste mit den RGB-Farbwerten: <i>[r, g, b]</i></p>
						</li>
						<li>
							<h3>.textColorByRgb(<i>[r, g, b]</i>)</h3>
							<p>Gibt bei einem hellen Farbwert <i>#000000</i> (schwarz) zurück und bei einem dunklen Farbwert <i>#ffffff</i> (weiß) zurück.</p>
						</li>
					</ul>
				</li>
			</ul>
			<h1>JSON-Aufbau</h1>
			<pre>
[
	{
		"name":		"leonard",
		"comment":	"Geht das?",
		"position":	[30,60],
		"color":	"#0092FF",
		"time":		1332238700
	},
	{
		"name":		"max muster",
		"comment":	"scheinbar.",
		"position":	[200, 400],
		"color":	"#007D7D",
		"time":		1332329016
	}
]
			</pre>
			<h1>Beispiel</h1>
			<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;jsCommenter Test&lt;/title&gt;
		&lt;meta charset="utf-8" /&gt;
		&lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"&gt;&lt;/script&gt;
		&lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"&gt;&lt;/script&gt;

		&lt;link type="text/css" rel="stylesheet" href="css/commenter.css" /&gt;
		&lt;script type="text/javascript" src="js/commenter.js"&gt;&lt;/script&gt;
		&lt;script type="text/javascript"&gt;
			$(document).ready(function() {
				window.cmts = new Commenter('#comments_layer', 'foo.comments.json');
				window.cmts.show();
			});
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id="comments_layer"&gt;&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
			</pre>
			<h1>Integration in Vizard</h1>
			<p>Die Integration in Vizard erfordert keine weiteren Vorkehrungen neben den üblichen zur Nutzung von jsCommenter.</p>
			<h1>To-Do:</h1>
			<ul>
				<li>Lösung für das Displaygrößenproblem finden</li>
				<li>Möglichkeit zur Bearbeitung und Löschung von Kommentaren bauen</li>
				<li>(Rechtemanagement)</li>
			</ul>
		</article>
	</body>
</html>